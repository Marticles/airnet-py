{% extends "base.html" %}

{% block body %}
    <div class="row col-md-11 col-md-offset-1">
        <div class="col-md-11 ">
            <ol class="breadcrumb">
                <li><a href="/"><span class="glyphicon glyphicon-home" aria-hidden="true"> 主页</span></a></li>
                <li class="active" id="indextitle">API说明</li>
            </ol>
        </div>
    </div>




    <div class="row col-md-12" style="text-align:center;">
        <h3>一、API数据</h3>
    </div>
    <div class="row col-md-6 col-md-offset-3" style="margin-top:20px;">
        <table class="table  table-striped table-bordered table-hover">
            <thead>
            <tr>

                <th style="text-align:center;">字段</th>
                <th style="text-align:center;">内容</th>
            </tr>
            </thead>
            <tbody style="text-align:center;">
            <tr>
                <td>request_site</td>
                <td>用户请求监测点</td>
            </tr>
            <tr>
                <td>data</td>
                <td>返回数据</td>
            </tr>
            <tr>
                <td>time</td>
                <td>污染物监测时间</td>
            </tr>
            <tr>
                <td>city</td>
                <td>监测点所属城市</td>
            </tr>
            <tr>
                <td>site</td>
                <td>监测点</td>
            </tr>
            <tr>
                <td>aqi</td>
                <td>空气质量指数(AQI)，即air quality index，是定量描述空气质量状况的无纲量指数</td>
            </tr>
            <tr>
                <td>level</td>
                <td>空气质量指数类别，有“优、良、轻度污染、中度污染、重度污染、严重污染”6类</td>
            </tr>
            <tr>
                <td>primarypollutan</td>
                <td>首要污染物</td>
            </tr>
            <tr>
                <td>pm25</td>
                <td>颗粒物（粒径小于等于2.5μm）1小时平均</td>
            </tr>
            <tr>
                <td>co</td>
                <td>一氧化碳1小时平均</td>
            </tr>
            <tr>
                <td>no2</td>
                <td>二氧化氮1小时平均</td>
            </tr>
            <tr>
                <td>ozone1hour</td>
                <td>臭氧1小时平均</td>
            </tr>
            <tr>
                <td>ozone8hour</td>
                <td>臭氧8小时平均</td>
            </tr>
            <tr>
                <td>so2</td>
                <td>二氧化硫1小时平均</td>
            </tr>


            </tbody>

        </table>
    </div>

    <div class="row col-md-6 col-md-offset-3" style="margin-top:20px;">
        <table class="table  table-striped table-bordered table-hover">
            <thead>
            <tr>

                <th style="text-align:center;">URL/参数</th>
                <th style="text-align:center;">含义</th>
            </tr>
            </thead>
            <tbody style="text-align:center;">
            <tr>
                <td>site</td>
                <td>监测点，为英文代码，如jingan、hongkouu</td>
            </tr>
            <tr>
                <td>pollution</td>
                <td>污染物，如so2、pm25，当为all时将返回全部污染物数据</td>
            </tr>
            <tr>
                <td>start</td>
                <td>开始时间，如2018-01-01 01:00:00，由于数据源每小时更新一次，输入的分钟部分将被忽略</td>
            </tr>
            <tr>
                <td>end</td>
                <td>结束时间，如2018-01-01 01:00:00，由于数据源每小时更新一次，输入的分钟部分将被忽略</td>
            </tr>


            </tbody>

        </table>
    </div>

    <div class="row col-md-12" style="text-align:center;">
        <h3>二、API调用示例</h3>
    </div>

    <div class="row col-md-8 col-md-offset-3">
        <h4>
            <p style="line-height:200%;">
                1.请求历史数据：api/history/site/pollution?start=start_time&end=end_time<br>
                示例：api/history/jingan/so2?start=2018-02-10 10:00&end=2018-02-23 20:00<br>
                返回：<br>
                {<br>
                &nbsp;&nbsp;&nbsp;&nbsp;"request_site": "jingan",<br>
                &nbsp;&nbsp;&nbsp;&nbsp;"data": [<br>
                &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br>
                &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"time": "2018-02-10
                10:00:00",<br>
                &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"so2": "15"<br>
                &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;},<br>
                &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br>
                &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"time": "2018-02-10
                11:00:00",<br>
                &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"so2": "22"<br>
                &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;},<br>
                &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;...<br>
                &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br>
                &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"time": "2018-02-23
                20:00:00",<br>
                &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"so2": "11"<br>
                &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br>
                &nbsp;&nbsp;&nbsp;&nbsp;]<br>
                }<br>

            </p>
        </h4>

        <h4>
            <p style="line-height:200%;">
                2.请求最新数据：api/lastest/site/pollution<br>
                示例：api/lastest/yangpusipiao/all<br>
                返回：<br>
                {<br>
                &nbsp;&nbsp;&nbsp;&nbsp;"request_site": "yangpusipiao",<br>
                &nbsp;&nbsp;&nbsp;&nbsp;"data": [<br>
                &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br>
                &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"time": "2018-10-30 23:00:00",<br>
                &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"city": "上海",<br>
                &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"site": "杨浦四漂",<br>
                &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"aqi": 53,<br>
                &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"level": "良",<br>
                &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"primarypollutant": "细颗粒物(PM2.5)",<br>
                &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"pm25": "37",<br>
                &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"pm10": "97",<br>
                &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"co": "0.8",<br>
                &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"no2": "88",<br>
                &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"ozone1hour": "68",<br>
                &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"ozone8hour": "170",<br>
                &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"so2": "11"<br>
                &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br>
                 &nbsp;&nbsp;&nbsp;&nbsp;]<br>
                }<br>
            </p>
        </h4>

        <h4>
            <p style="line-height:200%;">
                3.请求预测数据(只提供PM2.5预测)：api/forecast/site?start=start_time&end=end_time<br>
                示例：api/forecast/jingan?start=2018-12-01 10:00&end=2018-12-23 20:00<br>
                返回：<br>
                {<br>
                &nbsp;&nbsp;&nbsp;&nbsp;"request_site": "jingan",<br>
                &nbsp;&nbsp;&nbsp;&nbsp;"data": [<br>
                &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br>
                &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"time": "2018-12-01
                10:00:00",<br>
                &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"forecast_pm25": "63.442"<br>
                &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;},<br>
                &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br>
                &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"time": "2018-12-01
                11:00:00",<br>
                &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"forecast_pm25": "56.482"<br>
                &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;},<br>
                &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;...<br>
                &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br>
                &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"time": "2018-12-23
                20:00:00",<br>
                &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"forecast_pm25: "46.584"<br>
                &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br>
                &nbsp;&nbsp;&nbsp;&nbsp;]<br>
                }<br>

            </p>
        </h4>


    </div>




{% endblock %}
